@using KnapsackProblem.BlazorApp.Data
@inject InputService Input

<FilePicker Title="Select input file" AllowMultiple="false" OnFilesSelected="@ReadFile" FileFormats=".json" />

@code
{
    [Parameter]
    public EventCallback<IFileReference> NewValuesRead { get; set; }

    private async Task ReadFile(IEnumerable<IFileReference> files)
    {
    // ReSharper disable once PossibleMultipleEnumeration
        if (files.Any())
        {
    // ReSharper disable once PossibleMultipleEnumeration
            var file = files.First();
            await Input.SetFromFile(file);
            await NewValuesRead.InvokeAsync(file);
        }
    }
}
