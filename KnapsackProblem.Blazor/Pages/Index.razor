@page "/"
@using Data.Knapsack
@using Data
@using KnapsackProblem.BlazorApp.Pages.FilePickers
@using KnapsackProblem.BlazorApp.Pages.Knapsack
@inject InputService InputService

<h1>Knapsack problem</h1>

<div>
    Add implementation
    <ImplementationPicker />
</div>

<div>
    Select input file
    <InputFilePicker />
</div>

<div>
    Select implementation
    <ImplementationSelector />
</div>

<div>
    <button type="submit" @onclick="UpdateItems">Show items</button>
</div>

<div>
    <KnapsackStatus />
</div>

<div>
    <AvailableItems Items="@Items" />
</div>

@code
{
    public List<KnapsackItem> Items { get; set; }

    private void UpdateItems()
    {
        Items = InputService.Input.Items;
    }

    protected override void OnInitialized()
    {
        UpdateItems();
    }
}
